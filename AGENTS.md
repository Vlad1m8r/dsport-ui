# Инструкции для разработки

## Общие принципы
- Проект собирается на Vite + React 18+ + TypeScript. Используйте современные идиоматические подходы React и избегайте устаревших API.
- Для работы с Telegram Mini App используйте SDK `@twa-dev/sdk` и глобальный скрипт `telegram-web-app.js`. При необходимости добавляйте обёртки, но не подключайте сторонние альтернативные SDK.
- Стейт: предпочтительно Zustand для локального состояния и TanStack Query для серверного. Подключайте их только тогда, когда действительно нужны.
- UI стек: Tailwind CSS и (при необходимости) shadcn/ui. Не смешивайте несвязанные UI-библиотеки.
- Формы оформляйте через `react-hook-form` в связке с `zod`. Для i18n используйте `i18next`, если перевод действительно требуется.
- Для графиков применяйте Recharts и подключайте их лениво.
- Линтинг и форматирование обеспечиваются ESLint + Prettier; не добавляйте другие инструменты без необходимости.
- Тестирование выполняйте через Vitest + Testing Library.

## Стиль кода
- Соблюдайте строгую типизацию TypeScript, избегайте `any` без веской причины.
- Отдавайте предпочтение функциям и хукам без побочных эффектов; внимательно относитесь к `useEffect` и зависимостям.
- Поддерживайте адаптацию к цветовым темам Telegram: считывайте `themeParams`, обновляйте CSS-переменные и не хардкодьте цвета.
- Обновления WebApp (MainButton, BackButton, хаптик, ресайз) реализуйте через Telegram SDK.
- Комментарии в коде и сообщения коммитов пишите на русском языке.

## Структура проекта
- Компоненты и хуки размещайте в соответствующих директориях внутри `src` (например, `src/components`, `src/hooks`, `src/lib`).
- Общие утилиты и интеграции с внешними SDK храните в `src/lib`.
- Настройки окружения и конфигурацию держите в корне репозитория.

## UI и доступность
- Интерфейс должен корректно работать внутри WebView Telegram: быстрый рендер, отзывчивость, акцент на UX мини-приложений.
- Учитывайте мобильные размеры, клавиатуру и изменение высоты WebView.
- Следите за доступностью: aria-атрибуты, контраст и состояния фокуса.

## Рабочий процесс
- Перед коммитом проверяйте проект на сборку и линтер (если применимо к изменению).
- Обновления описывайте в PR кратко и по делу, подчёркивая влияние на Telegram Mini App.
